### **LazyColumn e LazyRow**

Até agora, você aprendeu a usar os componentes `Column` e `Row` para organizar itens na tela. No entanto, o que acontece quando você tem uma lista muito grande, com centenas ou milhares de itens? Usar um `Column` ou `Row` padrão faria com que o aplicativo tentasse renderizar todos os itens de uma vez, consumindo muita memória e causando lentidão.

É aí que entram os componentes **Lazy**, a solução moderna e eficiente do Jetpack Compose para lidar com listas de dados. Eles são o equivalente ao `RecyclerView` do sistema de Views antigo, mas com a simplicidade e a reatividade do Compose.

-----

### **O que são `LazyColumn` e `LazyRow`?**

Os componentes `Lazy` são projetados para renderizar apenas os itens que estão visíveis na tela, além de alguns que estão prestes a entrar na área visível. À medida que o usuário rola a lista, os componentes são reutilizados e atualizados com novos dados, em vez de serem criados do zero. Isso garante que seu aplicativo seja extremamente eficiente, independentemente do tamanho da lista.

  * **`LazyColumn`**: Cria uma lista com rolagem **vertical**. É perfeito para exibir uma lista de e-mails, posts de um blog, ou qualquer dado que precise ser exibido de cima para baixo.
  * **`LazyRow`**: Cria uma lista com rolagem **horizontal**. É ideal para carrosséis de imagens, listas de tags ou qualquer dado que precise ser exibido da esquerda para a direita.

### **Como Usar `LazyColumn` e `LazyRow`**

A criação de uma lista `Lazy` é simples e declarativa. Em vez de adicionar componentes um por um, você define um bloco de conteúdo usando a função `items()`.

A estrutura básica é a seguinte:

```kotlin
LazyColumn {
    // Bloco de itens da lista
}

LazyRow {
    // Bloco de itens da lista
}
```

Dentro desse bloco, você usa a função `items()` para percorrer uma coleção de dados e gerar um componente para cada item.

#### **Criando os Itens da Lista**

A função `items()` é o coração dos componentes `Lazy`. Ela recebe uma lista de dados e um lambda que define como cada item individual deve ser exibido.

**Exemplo:**
Imagine que você tem uma `data class` para representar um usuário e uma lista deles.

```kotlin
data class User(val name: String, val age: Int)

val userList = listOf(
    User("João", 30),
    User("Maria", 25),
    User("Pedro", 42),
    // ... mais usuários
)
```

Para exibir esta lista, você faria:

```kotlin
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material3.Text

LazyColumn {
    items(userList) { user ->
        // Aqui você cria a UI para cada item da lista
        Text(text = "Nome: ${user.name}, Idade: ${user.age}")
    }
}
```

O `user` dentro do bloco `items` é a variável que representa cada item da sua lista. O Compose se encarrega de fazer o loop para você.

### **Exemplo Completo: Lista de Tarefas**

Vamos criar um exemplo prático de uma lista de tarefas, que usa `LazyColumn` e componentes reutilizáveis.

```kotlin
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material3.Card
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

// 1. Data Class para o item da lista
data class Task(val title: String, val description: String)

// 2. Componente para exibir um único item da lista
@Composable
fun TaskCard(task: Task) {
    Card(
        modifier = Modifier
            .fillMaxWidth()
            .padding(8.dp)
    ) {
        Column(modifier = Modifier.padding(16.dp)) {
            Text(
                text = task.title,
                style = MaterialTheme.typography.headlineSmall
            )
            Spacer(modifier = Modifier.height(4.dp))
            Text(text = task.description)
        }
    }
}

// 3. A tela principal que exibe a lista Lazy
@Composable
fun TaskListScreen() {
    val tasks = listOf(
        Task("Estudar Kotlin", "Revisar os conceitos de estado e modifiers."),
        Task("Fazer compras", "Comprar leite, pão e ovos."),
        Task("Praticar Jetpack Compose", "Criar uma tela de login simples."),
        Task("Passear com o cachorro", "Levar o Rex para caminhar no parque."),
        Task("Ler um livro", "Continuar o capítulo 3 de 'O Hobbit'."),
        Task("Fazer exercício", "Correr por 30 minutos."),
        Task("Revisar código", "Verificar o código do projeto da semana 4."),
        Task("Planejar semana", "Organizar as tarefas para os próximos 7 dias."),
        Task("Ligar para a família", "Falar com os pais e os irmãos."),
        Task("Assistir série", "Começar a nova temporada de 'The Mandalorian'."),
        Task("Pagar contas", "Verificar as contas a vencer."),
        Task("Lavar a louça", "Não deixar acumular."),
    )

    LazyColumn(modifier = Modifier.fillMaxSize()) {
        items(tasks) { task ->
            TaskCard(task = task)
        }
    }
}
```

-----

### **Atividades de Fixação**

#### **Atividade prática 1: Criando uma Lista de Contatos**

  * **Objetivo:** Construa uma lista de contatos com rolagem vertical.
  * Crie uma `data class` `Contact(val name: String, val phoneNumber: String)`.
  * Crie uma lista de 20 ou mais contatos fictícios.
  * Use uma `LazyColumn` para exibir a lista.
  * Crie um componente `@Composable` para o item do contato, exibindo o nome e o número de telefone em uma `Row`.

#### **Atividade prática 2: Carrossel de Cards**

  * **Objetivo:** Criar uma lista horizontal de cards.
  * Crie uma `data class` para representar os dados de cada card (por exemplo, `CardItem(val title: String, val subtitle: String)`).
  * Crie uma lista de 10 cards fictícios.
  * Use uma `LazyRow` para exibir os cards.
  * Dentro do item, use um componente `Card` do Material Design para criar o visual. Adicione um `Text` com o título e outro com o subtítulo. Adicione um `Modifier.padding()` e `Modifier.width()` para controlar o espaçamento e o tamanho de cada card.

#### **Atividade prática 3: Tela de Catálogo (Netflix-like)**

  * **Objetivo:** Combinar `LazyColumn` e `LazyRow` para criar um layout de catálogo.
  * Crie uma `data class` `Category(val title: String, val items: List<String>)`.
  * Crie uma lista de categorias, cada uma com uma lista de itens.
  * Use uma `LazyColumn` para percorrer a lista de categorias.
  * Dentro do bloco do `LazyColumn`, para cada categoria, adicione:
      * Um `Text` para o título da categoria.
      * Uma `LazyRow` para exibir a lista de itens dessa categoria.